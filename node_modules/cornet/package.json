{
  "name": "cornet",
  "author": {
    "name": "Felix Boehm",
    "email": "me@feedic.com"
  },
  "version": "0.1.3",
  "description": "transform streaming html using css selectors",
  "main": "index.js",
  "repository": {
    "type": "git",
    "url": "https://github.com/fb55/node-cornet"
  },
  "keywords": [
    "trumpet",
    "html",
    "css",
    "selector",
    "htmlparser2",
    "handler"
  ],
  "dependencies": {
    "CSSselect": "0.2",
    "domhandler": "2.0",
    "domutils": "1.0"
  },
  "readme": "##About\n\n> The __cornet__ is a brass instrument very similar to the trumpet, distinguished by its conical bore, compact shape, and mellower tone quality. - [Wikipedia](http://en.wikipedia.org/wiki/Cornet)\n\nThis project is demonstrating how to use a couple of my libraries to replace [`substack/node-trumpet`](https://github.com/substack/node-trumpet) in just a couple of LOC.\n\nEven better, there are some advantages over `trumpet`:\n\n* The ammount of usable CSS selectors is increased dramatically thanks to [`fb55/CSSselect`](https://github.com/fb55/CSSselect).\n* `cornet` works as a handler for [`fb55/htmlparser2`](https://github.com/fb55/node-htmlparser), which is probably the fastest HTML parser currently available for node. And it's much less strict than the `sax` module used by `trumpet`.\n* By using the great [`MatthewMueller/cheerio`](https://github.com/MatthewMueller/cheerio) module, you can do everything with your document that would be possible with jQuery.\n\n_Please note that callbacks are fired as soon as an element was retrieved. That means that no content past the element will be available, so cheerio won't find anything, and, as the element is at this time the last child of it's parent, selectors like `:nth-last-child` won't work as expected._\n\n##Install\n\n\tnpm install cornet\n\n##Example\n\n```js\nvar Parser = require(\"htmlparser2\").WritableStream,\n    Cornet = require(\"cornet\"),\n    minreq = require(\"minreq\"),\n    $ = require(\"cheerio\");\n\nvar cornet = new Cornet();\n\nminreq.get(\"http://github.com/fb55\").pipe(new Parser(cornet));\n\ncornet.remove(\"script\"); //remove all scripts\n\n//show all repos\ncornet.select(\".repo_list\", function(elem){\n\t$(elem).find(\"h3\").each(function(i){\n\t\tconsole.log(\"repo %d: %s\", i + 1, $(this).text().trim());\n\t});\n});\n\n//does the same\nvar i = 0;\ncornet.select(\".repo_list h3\", function(elem){\n\tconsole.log(\"repo %d: %s\", ++i, $(elem).text().trim());\n});\n\n//sometimes, you only want to get a single element\nvar onTitle = cornet.select(\"title\", function(title){\n\tconsole.log(\"Page title:\", $(title).text().trim());\n\tcornet.removeLister(\"element\", onTitle);\n});\n```\n\n##API\n\n####`cornet(options)`\nThe constructor. `options` are the same you can pass to [`fb55/DomHandler`](https://github.com/fb55/DomHandler).\n\nIt's an `EventEmitter` that emits two events:\n\n* `element` is emitted whenever an element was added to the DOM.\n* `dom` is emitted when the DOM is complete.\n\n####`cornet#select(selector | fn, cb)`\nCalls the callback when the selector is matched or a passed function returns `true` (or any value that evaluates to true).\n\nInternally, listenes for any `element` event and checks then if the selector is matched.\n\nReturns the listening function, so you can remove it afterwards (as shown in the example above).\n\n####`cornet#remove(selector | fn)`\nRemoves all elements that match the selector. Also returns the listener.\n",
  "readmeFilename": "README.md",
  "_id": "cornet@0.1.3",
  "dist": {
    "shasum": "7f1d4f3899f80611f3996b5832f4cf303beb7afc"
  },
  "_from": "cornet@0.1.3"
}
